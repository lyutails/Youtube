<div class="login">
  <form [formGroup]="loginForm" class="login_form" (ngSubmit)="onSubmit()">
    <div class="login_item">
      <label class="login_label" for="login">Login</label>
      <input
        class="login_input"
        id="login"
        type="text"
        formControlName="login"
        placeholder="your email..." />
      <mat-icon>email</mat-icon>
    </div>
    @if (login?.invalid && login?.touched) {
      <div class="alert alert-danger">
        @if (login?.hasError('required')) {
          <div>please enter your login email</div>
        }
        @if (login?.hasError('minlength')) {
          <div>* login must be at least 4 characters long</div>
        }
        @if (login?.hasError('email')) {
          <div>* should contain {{ emailSign }} sign</div>
        }
      </div>
    }
    <div class="login_item">
      <label class="login_label" for="password">Password</label>
      <input
        class="login_input"
        id="password"
        formControlName="password"
        placeholder="your password..."
        [type]="isPasswordVisible ? 'text' : 'password'" />
      <button
        matSuffix
        mat-icon-button
        type="button"
        (click)="isPasswordVisible = !isPasswordVisible">
        <mat-icon>{{
          this.isPasswordVisible
            ? passwordVisibilitySymbol.visible
            : passwordVisibilitySymbol.invisible
        }}</mat-icon>
      </button>
    </div>
    @if (password?.invalid && password?.touched) {
      <div class="alert alert-danger">
        @if (password?.hasError('required')) {
          <div>please enter your password</div>
        }
        @if (!password?.value?.match('^(?=.*[a-z])')) {
          <div>* should contain at least one lowercase letter</div>
        }
        @if (!password?.value?.match('^(?=.*[A-Z])')) {
          <div>* should contain at least one capital letter</div>
        }
        @if (!password?.value?.match('(.*[0-9].*)')) {
          <div>
            * should contain at least one number
            {{ passwordSpecialSymbols }}
          </div>
        }
        @if (!password?.value?.match('(?=.*[!@#$%^&*])')) {
          <div>
            * should contain at least one special symbol
            {{ passwordSpecialSymbols }}
          </div>
        }
        @if (!password?.value?.match('.{8,}')) {
          <div>* should be at least 8 characters long</div>
        }
      </div>
    }
    <button class="login_button" type="submit" [disabled]="!loginForm.valid">
      {{ buttonName | uppercase }}
    </button>
  </form>
</div>
