import{b as W,c as J,d as K,f as Q,g as X,h as it}from"./chunk-JYKOQDED.js";import{a as T,b as Z,c as tt,d as et}from"./chunk-2YDM33OK.js";import{n as G}from"./chunk-47QA5BBQ.js";import{m as P,u as U,w as j}from"./chunk-GXJWM7TA.js";import{i as q}from"./chunk-FZYM2UWM.js";import{$b as H,Ab as z,Ba as V,Bb as B,Ca as $,Cb as I,Db as s,Dc as F,Eb as p,Fb as _,Fc as M,Gb as L,Gc as Y,Hc as S,Ib as A,Jb as f,Sb as c,Tb as y,Ub as x,Zb as v,_b as N,ac as u,bc as g,cc as w,db as a,e as R,eb as E,la as h,ra as b,ua as d,ub as D,v as O,wb as l,zb as k}from"./chunk-67MNOUTH.js";var nt=(()=>{let t=class t{transform(i,n){return n===!1?[...i].sort((r,m)=>new Date(m.snippet.publishedAt).getTime()-new Date(r.snippet.publishedAt).getTime()):[...i]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d({name:"dateAsc",type:t,pure:!0,standalone:!0});let e=t;return e})();var ot=(()=>{let t=class t{transform(i,n){return n===!1?[...i].sort((r,m)=>new Date(r.snippet.publishedAt).getTime()-new Date(m.snippet.publishedAt).getTime()):[...i]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d({name:"dateDesc",type:t,pure:!0,standalone:!0});let e=t;return e})();var rt=(()=>{let t=class t{transform(i,n){return n===!1?[...i].sort((r,m)=>+r.statistics.viewCount-+m.statistics.viewCount):[...i]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d({name:"viewsCountAsc",type:t,pure:!0,standalone:!0});let e=t;return e})();var at=(()=>{let t=class t{transform(i,n){return n===!1?[...i].sort((r,m)=>+m.statistics.viewCount-+r.statistics.viewCount):[...i]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d({name:"viewsCountDesc",type:t,pure:!0,standalone:!0});let e=t;return e})();var st=(()=>{let t=class t{transform(i){return i?.replace("GMT+0300 (Moscow Standard Time)","")}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d({name:"cutCustomDate",type:t,pure:!0,standalone:!0});let e=t;return e})();var dt=e=>({"background-image":e});function lt(e,t){if(e&1&&(s(0,"span"),c(1),p()),e&2){let o=t.$implicit;a(),y("#"+o+" ")}}var ct=(()=>{let t=class t{constructor(){this.router=h(q),this.store=h(P),this.buttonNameMore="more",this.buttonNameDelete="delete"}goToCard(i){this.router.navigate(["/card",i])}deleteCard(){this.store.dispatch(U.deleteCard({id:this.customCard.customId}))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-custom-card"]],inputs:{customCard:"customCard"},standalone:!0,features:[v],decls:16,vars:12,consts:[[1,"custom-card_pic",3,"ngStyle"],[1,"custom-card_title"],[1,"custom-card_description"],["type","button",1,"card_button",3,"click"],[1,"card_app-custom-button"]],template:function(n,r){n&1&&(_(0,"div",0),s(1,"div",1),c(2),p(),s(3,"div"),c(4),p(),s(5,"div",2),c(6),p(),B(7,lt,2,1,"span",null,z),s(9,"div"),c(10),u(11,"cutCustomDate"),p(),s(12,"button",3),A("click",function(){return r.deleteCard()}),s(13,"app-custom-button",4),c(14),u(15,"uppercase"),p()()),n&2&&(l("ngStyle",H(10,dt,"url("+r.customCard.img+")")),a(2),y(r.customCard.title),a(2),y(r.customCard.linkVideo),a(2),y(r.customCard.description),a(),I(r.customCard.tags),a(3),y(g(11,6,r.customCard.date)),a(4),x(" ",g(15,8,r.buttonNameDelete)," "))},dependencies:[S,F,Y,et,st],styles:[".custom-card_pic[_ngcontent-%COMP%]{width:100%;aspect-ratio:1/.6;background-repeat:no-repeat;background-size:contain;margin-bottom:10px;background-position:center center}.custom-card_title[_ngcontent-%COMP%]{text-align:center;padding-bottom:10px;font-size:.8rem;font-weight:600;text-overflow:ellipsis}.custom-card_description[_ngcontent-%COMP%]{text-align:center;font-size:.8rem;text-overflow:ellipsis}.custom-card_button[_ngcontent-%COMP%]{font-size:.8rem;background-color:transparent;border:none;border-radius:5px}"]});let e=t;return e})();function ft(e,t){if(e&1){let o=L();s(0,"div",0)(1,"button",1),A("click",function(){V(o);let n=f();return $(n.turnPreviousPage())}),s(2,"mat-icon",2),c(3),p()(),s(4,"button",3),c(5),p(),s(6,"button",1),A("click",function(){V(o);let n=f();return $(n.turnNextPage())}),s(7,"mat-icon",2),c(8),p()()()}if(e&2){let o=t,i=f();a(),l("disabled",o===1),a(2),x(" ",i.paginationButtonSymbols.previous,""),a(2),x(" ",o," "),a(),l("disabled",!i.youtubeService.nextPageToken),a(2),x(" ",i.paginationButtonSymbols.next,"")}}var ut=(()=>{let t=class t{constructor(){this.paginationButtonSymbols={previous:"keyboard_arrow_left",next:"keyboard_arrow_right"},this.nextPageToken=1,this.store=h(P),this.currentPageNumber$=this.store.select(X),this.youtubeService=h(T)}turnNextPage(){this.store.dispatch(j.nextPage())}turnPreviousPage(){this.store.dispatch(j.previousPage())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-pagination-buttons"]],standalone:!0,features:[v],decls:2,vars:3,consts:[[1,"pagination-buttons_wrapper"],["type","button",1,"pagination-buttons_item","turn",3,"click","disabled"],[1,"pagination-buttons_icon"],["type","button",1,"pagination-buttons_item","number"]],template:function(n,r){if(n&1&&(D(0,ft,9,5,"div",0),u(1,"async")),n&2){let m;k((m=g(1,1,r.currentPageNumber$))?0:-1,m)}},dependencies:[G,S,M],styles:[".pagination-buttons_wrapper[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center;justify-content:space-between}.pagination-buttons_item[_ngcontent-%COMP%]{width:18%;aspect-ratio:1/1;border-radius:50%;background-color:#ffdadb;display:flex;align-items:center;justify-content:center;transition:all .2s ease-in-out}.pagination-buttons_item.number[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.pagination-buttons_item.turn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ffb2b8}"]});let e=t;return e})();var gt=(e,t)=>t.customId,Ct=(e,t)=>t.id,mt=()=>({display:"block"});function ht(e,t){if(e&1&&_(0,"app-custom-card",0),e&2){let o=t.$implicit;l("ngStyle",N(3,mt))("customCard",o)("appColouredByDateBorder",o.date)}}function bt(e,t){e&1&&(s(0,"div",1),c(1,"is Loading..."),p())}function _t(e,t){if(e&1&&_(0,"app-search-item",3),e&2){let o=t.$implicit,i=f(3);l("card",o)("initialFavoriteValue",i.heartsIds.includes(o.id))("appColouredByDateBorder",o.snippet.publishedAt)("ngStyle",N(4,mt))}}function yt(e,t){if(e&1&&(B(0,_t,1,5,"app-search-item",3,Ct),u(2,"dateAsc"),u(3,"dateDesc"),u(4,"viewsCountAsc"),u(5,"viewsCountDesc"),u(6,"wordsPipe")),e&2){let o=f(2);I(w(6,12,w(5,9,w(4,6,w(3,3,w(2,0,t,o.youtubeService.dateAscSort),o.youtubeService.dateDescSort),o.youtubeService.viewsAscSort),o.youtubeService.viewsDescSort),o.youtubeService.filterSearchInputValue))}}function xt(e,t){if(e&1&&(D(0,yt,7,15),u(1,"async")),e&2){let o,i=f();k((o=g(1,1,i.items$))?0:-1,o)}}var ae=(()=>{let t=class t{constructor(i,n){this.youtubeService=i,this.store=n,this.filterValueDownFromApp="",this.fakeSearchDownFromApp="",this.getFakeSearchValue="",this.gotViewsCountAcsOrder=!0,this.gotViewsCountDescOrder=!0,this.gotDateAsc=!0,this.gotDateDesc=!0,this.gotFilterValue="",this.responseCardsOnRequest=[],this.realAPICards=[],this.items$=this.store.select(W),this.customCards$=this.store.select(K),this.heartsIds$=this.store.select(Q),this.subscriptions=new R,this.isLoading$=this.store.select(J)}ngOnInit(){this.subscriptions.add(this.heartsIds$.pipe(O(i=>i)).subscribe(i=>{this.heartsIds=i})),this.subscriptions.add(this.isLoading$.pipe(O(i=>i)).subscribe(i=>{this.isLoading=i}))}getCardsBasedOnHeaderInputValue(){return this.realAPICards}ngOnDestroy(){this.subscriptions.unsubscribe()}};t.\u0275fac=function(n){return new(n||t)(E(T),E(P))},t.\u0275cmp=b({type:t,selectors:[["app-search-results"]],inputs:{filterValueDownFromApp:"filterValueDownFromApp",fakeSearchDownFromApp:"fakeSearchDownFromApp",getFakeSearchValue:"getFakeSearchValue",gotViewsCountAcsOrder:"gotViewsCountAcsOrder",gotViewsCountDescOrder:"gotViewsCountDescOrder",gotDateAsc:"gotDateAsc",gotDateDesc:"gotDateDesc"},standalone:!0,features:[v],decls:6,vars:3,consts:[[1,"card_wrapper",3,"ngStyle","customCard","appColouredByDateBorder"],[1,"is_loading"],[1,"pagination-buttons"],[1,"card_wrapper",3,"card","initialFavoriteValue","appColouredByDateBorder","ngStyle"]],template:function(n,r){n&1&&(B(0,ht,1,4,"app-custom-card",0,gt),u(2,"async"),D(3,bt,2,0,"div",1)(4,xt,2,3),_(5,"app-pagination-buttons",2)),n&2&&(I(g(2,1,r.customCards$)),a(3),k(r.isLoading?3:4))},dependencies:[S,F,M,it,tt,Z,rt,at,nt,ot,ct,ut],styles:[".card_wrapper[_ngcontent-%COMP%]{width:30%;max-height:30rem;display:flex;flex-direction:column;align-items:center;justify-content:space-between;text-align:center;border-bottom:10px solid oklch(0% 0 0);padding-bottom:5px;display:none}.is_loading[_ngcontent-%COMP%]{font-size:1.2rem}@media screen and (min-width: 650px) and (max-width: 1000px){.card_wrapper[_ngcontent-%COMP%]{width:45%}}@media screen and (min-width: 320px) and (max-width: 649.99px){.card_wrapper[_ngcontent-%COMP%]{width:100%}}"]});let e=t;return e})();export{ae as a};
