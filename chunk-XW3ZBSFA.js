import{b as F,d as s,e as P,f as O,g as C,h as _,j as T,k as N,m as I,p as j}from"./chunk-HVE27UMU.js";import{a as G}from"./chunk-NL3RE3M7.js";import{i as M}from"./chunk-VBQUAAPI.js";import{$b as y,Bb as l,Cb as o,Cc as E,Db as x,Dc as L,Gb as h,Hb as p,Qb as a,Sb as g,Xb as S,_b as b,cb as i,db as v,qa as w,sb as u,ub as f,xb as d}from"./chunk-MGU3A3HE.js";function q(n,t){n&1&&(l(0,"div"),a(1,"please enter your login email"),o())}function D(n,t){n&1&&(l(0,"div"),a(1,"* login must be at least 4 characters long"),o())}function z(n,t){if(n&1&&(l(0,"div"),a(1),o()),n&2){let e=p(2);i(),g("* should contain ",e.emailSign," sign")}}function A(n,t){if(n&1&&(l(0,"div",5),u(1,q,2,0,"div")(2,D,2,0,"div")(3,z,2,1,"div"),o()),n&2){let e=p();i(),d(e.login!=null&&e.login.hasError("required")?1:-1),i(),d(e.login!=null&&e.login.hasError("minlength")?2:-1),i(),d(e.login!=null&&e.login.hasError("email")?3:-1)}}function V(n,t){n&1&&(l(0,"div"),a(1,"please enter your password"),o())}function $(n,t){n&1&&(l(0,"div"),a(1,"* should contain at least one lowercase letter"),o())}function k(n,t){n&1&&(l(0,"div"),a(1,"* should contain at least one capital letter"),o())}function R(n,t){if(n&1&&(l(0,"div"),a(1),o()),n&2){let e=p(2);i(),g(" * should contain at least one number ",e.passwordSpecialSymbols," ")}}function Z(n,t){if(n&1&&(l(0,"div"),a(1),o()),n&2){let e=p(2);i(),g(" * should contain at least one special symbol ",e.passwordSpecialSymbols," ")}}function B(n,t){n&1&&(l(0,"div"),a(1,"* should be at least 8 characters long"),o())}function U(n,t){if(n&1&&(l(0,"div",5),u(1,V,2,0,"div")(2,$,2,0,"div")(3,k,2,0,"div")(4,R,2,1,"div")(5,Z,2,1,"div")(6,B,2,0,"div"),o()),n&2){let e=p();i(),d(e.password!=null&&e.password.hasError("required")?1:-1),i(),d(!(e.password==null||e.password.value==null)&&e.password.value.match("^(?=.*[a-z])")?-1:2),i(),d(!(e.password==null||e.password.value==null)&&e.password.value.match("^(?=.*[A-Z])")?-1:3),i(),d(!(e.password==null||e.password.value==null)&&e.password.value.match("(.*[0-9].*)")?-1:4),i(),d(!(e.password==null||e.password.value==null)&&e.password.value.match("(?=.*[!@#$%^&*])")?-1:5),i(),d(!(e.password==null||e.password.value==null)&&e.password.value.match(".{8,}")?-1:6)}}var nn=(()=>{let t=class t{constructor(c,m){this.loginService=c,this.router=m,this.buttonName="Submit",this.emailSign="@",this.passwordSpecialSymbols="e.g. ! @ # ?",this.loginForm=new C({login:new _(""),password:new _("")})}onSubmit(){let c=this.loginForm.value;this.loginForm.value.login?.trim()&&this.loginForm.value.password?.trim()&&(this.loginService.toggleLoginLogout(),this.loginService.saveCredentials(c),this.router.navigate(["/main"]))}ngOnInit(){this.loginForm=new C({login:new _("",[s.required,s.minLength(4),s.email]),password:new _("",[s.required,s.minLength(4),s.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")])})}get login(){return this.loginForm.get("login")}get password(){return this.loginForm.get("password")}};t.\u0275fac=function(m){return new(m||t)(v(G),v(M))},t.\u0275cmp=w({type:t,selectors:[["app-login"]],standalone:!0,features:[S],decls:15,vars:7,consts:[[1,"login"],[1,"login_form",3,"ngSubmit","formGroup"],[1,"login_item"],["for","login",1,"login_label"],["id","login","type","text","formControlName","login","placeholder","your email...",1,"login_input"],[1,"alert","alert-danger"],["for","password",1,"login_label"],["id","password","type","text","formControlName","password","placeholder","your password...",1,"login_input"],["type","submit",1,"login_button",3,"disabled"]],template:function(m,r){m&1&&(l(0,"div",0)(1,"form",1),h("ngSubmit",function(){return r.onSubmit()}),l(2,"div",2)(3,"label",3),a(4,"Login"),o(),x(5,"input",4),o(),u(6,A,4,3,"div",5),l(7,"div",2)(8,"label",6),a(9,"Password"),o(),x(10,"input",7),o(),u(11,U,7,6,"div",5),l(12,"button",8),a(13),b(14,"uppercase"),o()()()),m&2&&(i(),f("formGroup",r.loginForm),i(5),d(r.login!=null&&r.login.invalid&&(r.login!=null&&r.login.touched)?6:-1),i(5),d(r.password!=null&&r.password.invalid&&(r.password!=null&&r.password.touched)?11:-1),i(),f("disabled",!r.loginForm.valid),i(),g(" ",y(14,5,r.buttonName)," "))},dependencies:[j,T,F,P,O,N,I,E,L],styles:[".login[_ngcontent-%COMP%]{width:90vw;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1 0 auto;flex-wrap:wrap;position:relative;padding:20px 0}.login_form[_ngcontent-%COMP%]{width:40%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid oklch(0% 0 0/50);padding:10px 20px;border-radius:10px}.login_text[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.login_item[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.login_input[_ngcontent-%COMP%]{outline:none}.login_input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.login_label[_ngcontent-%COMP%]{pointer-events:none}.login_button[_ngcontent-%COMP%]{padding:5px 10px;margin-top:20px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid oklch(59.98% .236 15.45)}.alert.alert-danger[_ngcontent-%COMP%]{color:#eb0d4f}@media screen and (min-width: 320px) and (max-width: 499.99px){.login_form[_ngcontent-%COMP%]{width:80%}}@media screen and (min-width: 500px) and (max-width: 999.99px){.login_form[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 320px) and (max-width: 999.99px){.login_item[_ngcontent-%COMP%]{flex-direction:column}}"]});let n=t;return n})();export{nn as LoginComponent};
