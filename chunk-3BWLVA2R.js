import{b as G,d as D}from"./chunk-WANHGEEQ.js";import{b as O,d as p,f as T,g as q,h as x,j as v,l as k,m as I,o as N,r as j}from"./chunk-FAALJWNN.js";import"./chunk-WXI33M2S.js";import{n as R}from"./chunk-KAIEEQQJ.js";import{a as $}from"./chunk-MRV5JKRA.js";import"./chunk-CHYEB5OR.js";import{i as V}from"./chunk-JAX72A3X.js";import{Ab as s,Eb as t,Fb as a,Gb as w,Hc as P,Ic as F,Jb as C,Kb as c,Tb as r,Ub as b,Vb as _,_b as y,bc as E,cc as L,db as e,eb as h,pb as m,ra as S,rc as M,ub as g,wb as f}from"./chunk-QMZDZQX7.js";function A(i,l){i&1&&(t(0,"div"),r(1,"please enter your login email"),a())}function B(i,l){i&1&&(t(0,"div"),r(1,"* login must be at least 4 characters long"),a())}function Z(i,l){if(i&1&&(t(0,"div"),r(1),a()),i&2){let n=c(2);e(),_("* should contain ",n.emailSign," sign")}}function U(i,l){if(i&1&&(t(0,"div",5),g(1,A,2,0,"div")(2,B,2,0,"div")(3,Z,2,1,"div"),a()),i&2){let n=c();e(),s(n.login!=null&&n.login.hasError("required")?1:-1),e(),s(n.login!=null&&n.login.hasError("minlength")?2:-1),e(),s(n.login!=null&&n.login.hasError("email")?3:-1)}}function H(i,l){i&1&&(t(0,"div"),r(1,"please enter your password"),a())}function J(i,l){i&1&&(t(0,"div"),r(1,"* should contain at least one lowercase letter"),a())}function K(i,l){i&1&&(t(0,"div"),r(1,"* should contain at least one capital letter"),a())}function Q(i,l){if(i&1&&(t(0,"div"),r(1),a()),i&2){let n=c(2);e(),_(" * should contain at least one number ",n.passwordSpecialSymbols," ")}}function W(i,l){if(i&1&&(t(0,"div"),r(1),a()),i&2){let n=c(2);e(),_(" * should contain at least one special symbol ",n.passwordSpecialSymbols," ")}}function X(i,l){i&1&&(t(0,"div"),r(1,"* should be at least 8 characters long"),a())}function Y(i,l){if(i&1&&(t(0,"div",5),g(1,H,2,0,"div")(2,J,2,0,"div")(3,K,2,0,"div")(4,Q,2,1,"div")(5,W,2,1,"div")(6,X,2,0,"div"),a()),i&2){let n=c();e(),s(n.password!=null&&n.password.hasError("required")?1:-1),e(),s(!(n.password==null||n.password.value==null)&&n.password.value.match("^(?=.*[a-z])")?-1:2),e(),s(!(n.password==null||n.password.value==null)&&n.password.value.match("^(?=.*[A-Z])")?-1:3),e(),s(!(n.password==null||n.password.value==null)&&n.password.value.match("(.*[0-9].*)")?-1:4),e(),s(!(n.password==null||n.password.value==null)&&n.password.value.match("(?=.*[!@#$%^&*])")?-1:5),e(),s(!(n.password==null||n.password.value==null)&&n.password.value.match(".{8,}")?-1:6)}}var pi=(()=>{let l=class l{constructor(d,u){this.loginService=d,this.router=u,this.buttonName="Submit",this.emailSign="@",this.passwordSpecialSymbols="e.g. ! @ # ?",this.inputValue="",this.isPasswordVisible=!1,this.passwordVisibilitySymbol={visible:"key",invisible:"key_off"},this.requiredSign="*",this.requiredSignColor="oklch(59.98% 0.236 15.45)",this.validSignColor="oklch(59.92% 0.255 298.77)",this.colorRequired=m(this.requiredSignColor),this.colorValid=m(this.validSignColor),this.isValid=m(!1),this.validSign=m("verified_user"),this.requiredSignSignal=m("lock"),this.loginForm=new x({login:new v(""),password:new v("")}),this.color=M(()=>this.isValid()?this.colorValid():this.colorRequired())}onSubmit(){let d=this.loginForm.value;this.loginForm.value.login?.trim()&&this.loginForm.value.password?.trim()&&(this.loginService.toggleLoginLogout(),this.loginService.saveCredentials(d),this.loginService.setLogin(this.loginForm.value.login?.trim().replace(/@(.*)$/,"")),this.router.navigate(["/main"]))}ngOnInit(){this.loginForm=new x({login:new v("",[p.required,p.minLength(4),p.email]),password:new v("",[p.required,p.minLength(4),p.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")])})}get login(){return this.loginForm.get("login")}get password(){return this.loginForm.get("password")}setRequiredSignColor(d){this.isValid=m(d)}};l.\u0275fac=function(u){return new(u||l)(h($),h(V))},l.\u0275cmp=S({type:l,selectors:[["app-login"]],standalone:!0,features:[y],decls:20,vars:9,consts:[[1,"login"],[1,"login_form",3,"ngSubmit","formGroup"],[1,"login_item"],["for","login",1,"login_label"],["id","login","type","text","formControlName","login","placeholder","your email...",1,"login_input"],[1,"alert","alert-danger"],["for","password",1,"login_label"],["id","password","formControlName","password","placeholder","your password...",1,"login_input",3,"type"],["matSuffix","","mat-icon-button","","type","button",3,"click"],["type","submit",1,"login_button",3,"disabled"]],template:function(u,o){u&1&&(t(0,"div",0)(1,"form",1),C("ngSubmit",function(){return o.onSubmit()}),t(2,"div",2)(3,"label",3),r(4,"Login"),a(),w(5,"input",4),t(6,"mat-icon"),r(7,"email"),a()(),g(8,U,4,3,"div",5),t(9,"div",2)(10,"label",6),r(11,"Password"),a(),w(12,"input",7),t(13,"button",8),C("click",function(){return o.isPasswordVisible=!o.isPasswordVisible}),t(14,"mat-icon"),r(15),a()()(),g(16,Y,7,6,"div",5),t(17,"button",9),r(18),E(19,"uppercase"),a()()()),u&2&&(e(),f("formGroup",o.loginForm),e(7),s(o.login!=null&&o.login.invalid&&(o.login!=null&&o.login.touched)?8:-1),e(4),f("type",o.isPasswordVisible?"text":"password"),e(3),b(o.isPasswordVisible?o.passwordVisibilitySymbol.visible:o.passwordVisibilitySymbol.invisible),e(),s(o.password!=null&&o.password.invalid&&(o.password!=null&&o.password.touched)?16:-1),e(),f("disabled",!o.loginForm.valid),e(),_(" ",L(19,7,o.buttonName)," "))},dependencies:[j,k,O,T,q,I,N,P,F,D,R,G],styles:[".login[_ngcontent-%COMP%]{width:90vw;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1 0 auto;flex-wrap:wrap;position:relative;padding:20px 0}.login_form[_ngcontent-%COMP%]{width:40%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid oklch(0% 0 0/50);padding:10px 20px;border-radius:10px}.login_text[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.login_item[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.login_input[_ngcontent-%COMP%]{outline:none}.login_input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.login_label[_ngcontent-%COMP%]{pointer-events:none}.login_button[_ngcontent-%COMP%]{padding:5px 10px;margin-top:20px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid oklch(59.98% .236 15.45)}.alert.alert-danger[_ngcontent-%COMP%]{color:#eb0d4f}@media screen and (min-width: 320px) and (max-width: 499.99px){.login_form[_ngcontent-%COMP%]{width:80%}}@media screen and (min-width: 500px) and (max-width: 999.99px){.login_form[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 320px) and (max-width: 999.99px){.login_item[_ngcontent-%COMP%]{flex-direction:column}}"]});let i=l;return i})();export{pi as LoginComponent};
