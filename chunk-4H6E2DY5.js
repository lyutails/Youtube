import{b as I,d as u,e as B,f as j,g as F,h as p,j as D,k as G,l as L,m as $,n as k,p as R}from"./chunk-HVE27UMU.js";import{m as z,u as U}from"./chunk-USJF233W.js";import{i as q}from"./chunk-VBQUAAPI.js";import{$b as C,Aa as w,Ab as V,Ba as b,Bb as t,Cb as i,Cc as O,Db as g,Dc as P,Eb as A,Gb as f,Hb as _,Qb as a,Rb as h,Sb as v,Xb as N,_b as x,cb as o,db as E,qa as y,sb as c,ub as S,xb as s,yb as T,zb as M}from"./chunk-MGU3A3HE.js";function J(e,l){e&1&&(t(0,"div"),a(1,"please enter a title"),i())}function K(e,l){e&1&&(t(0,"div"),a(1,"* the title is too short"),i())}function Q(e,l){e&1&&(t(0,"div"),a(1,"* the title is too long"),i())}function W(e,l){if(e&1&&(t(0,"div",6),c(1,J,2,0,"div")(2,K,2,0,"div")(3,Q,2,0,"div"),i()),e&2){let r,d=_();o(),s((r=d.adminForm.get("title"))!=null&&r.hasError("required")?1:-1),o(),s(d.title!=null&&d.title.hasError("minlength")?2:-1),o(),s(d.title!=null&&d.title.hasError("maxlength")?3:-1)}}function X(e,l){e&1&&(t(0,"div"),a(1,"* the description is too long"),i())}function Y(e,l){if(e&1&&(t(0,"div",6),c(1,X,2,0,"div"),i()),e&2){let r=_();o(),s(r.description!=null&&r.description.hasError("maxlength")?1:-1)}}function Z(e,l){e&1&&(t(0,"div"),a(1,"please enter an img"),i())}function ee(e,l){if(e&1&&(t(0,"div",6),c(1,Z,2,0,"div"),i()),e&2){let r=_();o(),s(r.img!=null&&r.img.hasError("required")?1:-1)}}function te(e,l){e&1&&(t(0,"div"),a(1,"please enter a link video"),i())}function ie(e,l){e&1&&(t(0,"div"),a(1,"* the link is too short"),i())}function ne(e,l){if(e&1&&(t(0,"div",6),c(1,te,2,0,"div")(2,ie,2,0,"div"),i()),e&2){let r=_();o(),s(r.linkVideo!=null&&r.linkVideo.hasError("required")?1:-1),o(),s(r.linkVideo!=null&&r.linkVideo.hasError("minlength")?2:-1)}}function oe(e,l){e&1&&(t(0,"div"),a(1,"please enter a tag"),i())}function ae(e,l){if(e&1&&(t(0,"div",6),c(1,oe,2,0,"div"),i()),e&2){let r=_().$implicit;o(),s(r!=null&&r.hasError("required")?1:-1)}}function le(e,l){if(e&1){let r=A();t(0,"div",14)(1,"div",18)(2,"label",19),a(3,"Tag "),t(4,"span",4),a(5),i()(),g(6,"input",20),t(7,"button",21),f("click",function(){w(r);let m=_();return b(m.addTag())}),a(8),x(9,"uppercase"),i(),t(10,"button",21),f("click",function(){w(r);let m=_();return b(m.removeTag())}),a(11),x(12,"uppercase"),i()(),c(13,ae,2,1,"div",6),i()}if(e&2){let r=l.$implicit,d=l.$index,m=_();o(5),h(m.requiredSign),o(),S("formControlName",d),o(2),v(" ",C(9,5,m.addButtonName)," "),o(3),v(" ",C(12,7,m.deleteButtonName)," "),o(2),s(r.invalid&&r.touched?13:-1)}}var _e=(()=>{let l=class l{constructor(d,m){this.router=d,this.store=m,this.submitButtonName="Submit",this.resetButtonName="Reset",this.deleteButtonName="delete",this.addButtonName="add",this.initialValue="",this.requiredSign="*",this.adminForm=new F({title:new p(""),description:new p(""),img:new p(""),linkVideo:new p(""),tags:new k([new p])})}ngOnInit(){this.adminForm=new F({title:new p("",[u.required,u.minLength(3),u.maxLength(20)]),description:new p("",[u.maxLength(255)]),img:new p("",[u.required]),linkVideo:new p("",[u.required,u.minLength(4)]),tags:new k([new p("",u.required)])})}onSubmit(){this.adminForm.value.title?.trim()&&this.adminForm.value.img?.trim()&&this.adminForm.value.linkVideo?.trim()&&this.adminForm.controls.tags.valid&&this.adminForm.valid&&(this.store.dispatch(U.createCard({item:{customId:this.createCustomId(),title:this.adminForm.value.title,description:this.adminForm.value.description,img:this.adminForm.value.img,linkVideo:this.adminForm.value.linkVideo,tags:this.adminForm.value.tags,date:new Date().toString()}})),this.adminForm.reset(),this.tags.clear(),this.addTag())}createCustomId(){return this.customId=Math.random().toString(36).substring(2),this.customId}get title(){return this.adminForm.get("title")}get description(){return this.adminForm.get("description")}get img(){return this.adminForm.get("img")}get linkVideo(){return this.adminForm.get("linkVideo")}get tags(){let{tags:d}=this.adminForm.controls;return d}addTag(){if(this.tags.length<=4){let d=new p("",u.required);return this.tags.push(d)}return this.tags}removeTag(){return this.tags.length>1?this.tags.removeAt(this.index):this.tags}reset(){this.adminForm.reset(),this.tags.clear(),this.addTag()}};l.\u0275fac=function(m){return new(m||l)(E(q),E(z))},l.\u0275cmp=y({type:l,selectors:[["app-admin"]],standalone:!0,features:[N],decls:42,vars:16,consts:[[1,"admin"],[1,"admin_form",3,"ngSubmit","formGroup"],[1,"admin_item"],["for","title",1,"admin_label"],[1,"required_sign"],["id","title","type","text","formControlName","title","placeholder","title...",1,"admin_input"],[1,"alert","alert-danger"],["for","description",1,"admin_label"],["id","description","type","text","formControlName","description","placeholder","description...",1,"admin_input"],["for","img",1,"admin_label"],["id","img","type","text","formControlName","img","placeholder","image...",1,"admin_input"],["for","link",1,"admin_label"],["id","link","type","text","formControlName","linkVideo","placeholder","link video...",1,"admin_input"],["formArrayName","tags",1,"tags_wrapper"],[1,"tags"],[1,"required"],["type","reset",1,"admin_button","reset",3,"click"],["type","submit",1,"admin_button","submit",3,"disabled"],[1,"admin_item","tag"],["for","tag",1,"admin_label"],["id","tag","type","text","placeholder","tag...",1,"admin_input",3,"formControlName"],["type","button",1,"admin_button","tag",3,"click"]],template:function(m,n){m&1&&(t(0,"div",0),a(1," Create new card "),t(2,"form",1),f("ngSubmit",function(){return n.onSubmit()}),t(3,"div",2)(4,"label",3),a(5,"Title "),t(6,"span",4),a(7),i()(),g(8,"input",5),i(),c(9,W,4,3,"div",6),t(10,"div",2)(11,"label",7),a(12,"Description"),i(),g(13,"input",8),i(),c(14,Y,2,1,"div",6),t(15,"div",2)(16,"label",9),a(17,"Image "),t(18,"span",4),a(19),i()(),g(20,"input",10),i(),c(21,ee,2,1,"div",6),t(22,"div",2)(23,"label",11),a(24,"Link video "),t(25,"span",4),a(26),i()(),g(27,"input",12),i(),c(28,ne,3,2,"div",6),t(29,"div",13),M(30,le,14,9,"div",14,T),i(),t(32,"div",15)(33,"span",4),a(34),i(),a(35," required "),i(),t(36,"button",16),f("click",function(){return n.reset()}),a(37),x(38,"uppercase"),i(),t(39,"button",17),a(40),x(41,"uppercase"),i()()()),m&2&&(o(2),S("formGroup",n.adminForm),o(5),h(n.requiredSign),o(2),s(n.title!=null&&n.title.invalid&&(n.title!=null&&n.title.touched)?9:-1),o(5),s(n.description!=null&&n.description.invalid&&(n.description!=null&&n.description.touched)?14:-1),o(5),h(n.requiredSign),o(2),s(n.img!=null&&n.img.invalid&&(n.img!=null&&n.img.touched)?21:-1),o(5),h(n.requiredSign),o(2),s(n.linkVideo!=null&&n.linkVideo.invalid&&(n.linkVideo!=null&&n.linkVideo.touched)?28:-1),o(2),V(n.tags.controls),o(4),h(n.requiredSign),o(3),v(" ",C(38,12,n.resetButtonName)," "),o(2),S("disabled",!n.adminForm.valid),o(),v(" ",C(41,14,n.submitButtonName)," "))},dependencies:[R,D,I,B,j,G,$,L,O,P],styles:[".admin[_ngcontent-%COMP%]{width:90vw;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;flex:1 0 auto;flex-wrap:wrap;padding:20px 0}.admin_form[_ngcontent-%COMP%]{width:40%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid oklch(0% 0 0/50);padding:10px 20px;border-radius:10px}.admin_text[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.admin_item[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.admin_item.tag[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:10px auto}.admin_input[_ngcontent-%COMP%]{outline:none}.admin_input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.admin_label[_ngcontent-%COMP%]{pointer-events:none}.admin_button[_ngcontent-%COMP%]{padding:5px 10px;margin-top:20px}.admin_button[_ngcontent-%COMP%]:hover{cursor:pointer}.admin_button.tag[_ngcontent-%COMP%]{margin-top:0}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid oklch(59.98% .236 15.45)}.alert.alert-danger[_ngcontent-%COMP%]{color:#eb0d4f}.tags_wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.tags[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;margin:10px auto}.required[_ngcontent-%COMP%]{width:80%;display:flex;align-items:flex-start}.required_sign[_ngcontent-%COMP%]{color:#eb0d4f}@media screen and (min-width: 320px) and (max-width: 499.99px){.admin_form[_ngcontent-%COMP%]{width:80%}}@media screen and (min-width: 500px) and (max-width: 999.99px){.admin_form[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 320px) and (max-width: 999.99px){.admin_item[_ngcontent-%COMP%]{flex-direction:column}}"]});let e=l;return e})();export{_e as AdminComponent};
